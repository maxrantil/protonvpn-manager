#!/bin/bash
# ABOUTME: Centralized color management for VPN scripts with NO_COLOR support
# ABOUTME: Provides ANSI color codes and colorize function respecting user preferences

# Respect NO_COLOR environment variable (https://no-color.org/)
if [[ -n "${NO_COLOR:-}" ]]; then
    # Disable all colors
    RED=""
    GREEN=""
    YELLOW=""
    BLUE=""
    CYAN=""
    BOLD=""
    NC=""
else
    # Enable ANSI color codes
    RED='\033[0;31m'
    GREEN='\033[0;32m'
    YELLOW='\033[0;33m'
    BLUE='\033[0;34m'
    CYAN='\033[0;36m'
    BOLD='\033[1m'
    NC='\033[0m' # No Color / Reset
fi

# Export color variables for use in other scripts
export RED GREEN YELLOW BLUE CYAN BOLD NC

# Function to colorize text
# Usage: colorize "color_name" "text"
# Color names: red, green, yellow, blue, cyan, bold
colorize() {
    local color_name="$1"
    local text="$2"

    # If NO_COLOR is set, return text without color
    if [[ -n "${NO_COLOR:-}" ]]; then
        echo "$text"
        return
    fi

    # Apply color based on name
    case "$color_name" in
        red)
            echo -e "${RED}${text}${NC}"
            ;;
        green)
            echo -e "${GREEN}${text}${NC}"
            ;;
        yellow)
            echo -e "${YELLOW}${text}${NC}"
            ;;
        blue)
            echo -e "${BLUE}${text}${NC}"
            ;;
        cyan)
            echo -e "${CYAN}${text}${NC}"
            ;;
        bold)
            echo -e "${BOLD}${text}${NC}"
            ;;
        *)
            # Unknown color, return text without color
            echo "$text"
            ;;
    esac
}

# Export the colorize function
export -f colorize
