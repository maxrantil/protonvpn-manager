# ProtonVPN API Server Configuration
# ABOUTME: Production configuration for HTTP/WebSocket API server

[server]
# Server binding
host = "127.0.0.1"
port = 8080
workers = 2

# SSL/TLS configuration (for production)
ssl_enabled = false
ssl_cert_file = "/etc/protonvpn/ssl/server.crt"
ssl_key_file = "/etc/protonvpn/ssl/server.key"

# Request limits
max_request_size = "1MB"
request_timeout = 30
keepalive_timeout = 75

# Logging configuration
log_level = "INFO"
log_file = "/var/log/protonvpn/api-server.log"
access_log_enabled = true
access_log_file = "/var/log/protonvpn/api-access.log"

[authentication]
# API authentication
auth_enabled = true
auth_method = "token"
token_expiry = 3600

# Rate limiting
rate_limit_enabled = true
rate_limit_requests = 100
rate_limit_window = 60

[websocket]
# WebSocket configuration
websocket_enabled = true
websocket_path = "/ws"
max_connections = 50
heartbeat_interval = 30
connection_timeout = 300

[api]
# API endpoints configuration
status_endpoint = "/api/status"
health_endpoint = "/api/health"
config_endpoint = "/api/config"
metrics_endpoint = "/api/metrics"

# Response formats
default_format = "json"
compression_enabled = true

[integration]
# Integration with other services
status_dashboard_integration = true
health_monitor_integration = true
notification_integration = true

# Service discovery
service_discovery_enabled = false
service_registry_url = "http://localhost:8500"

[security]
# Security headers
cors_enabled = true
cors_origins = ["http://localhost:3000"]
security_headers_enabled = true

# Request validation
input_validation_enabled = true
output_sanitization_enabled = true
xss_protection_enabled = true
